#!/usr/bin/env bash

XMODMAP="$1"
if [ -z "$XMODMAP" ]
then
  XMODMAP="$HOME/.Xmodmap"
fi

if [ "$(cat "$HOME/.xkblayout" 2>/dev/null)" = "lt" ]
then
    setxkbmap -layout de
    echo de > "$HOME/.xkblayout"
else
    setxkbmap -layout lt -variant us -symbols "pc+lt(us)+inet(evdev)"
    echo lt > "$HOME/.xkblayout"
fi

xmodmap "$XMODMAP"
