#!/usr/bin/env bash

BRANCH="$1"

if [ "$(git rev-parse --abbrev-ref HEAD)" != "$BRANCH" ]
then
  git checkout -b "$BRANCH" || exit 1
fi

git commit --all "--message=$BRANCH" && git push origin "$BRANCH" --set-upstream && gh pr create --title "$BRANCH" --body "$BRANCH"
