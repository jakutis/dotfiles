#!/bin/bash

if [ "$(id -u)" != "0" ]
then
  sudo $0 "$@"
  exit
fi

FILE="$HOME/.brightness"

if ! [ -e "$FILE" ]
then
    echo "Symlink $FILE does not exist, please create it, e.g. ln -s /sys/devices/pci0000:00/0000:00:02.0/backlight/acpi_video0/brightness" 1>&2
    exit 1
fi

if [ "$1" = "" ]
then
    cat $FILE
elif [ "$1" = "max" ]
then
    echo 15 > $FILE
elif [ "$1" = "min" ]
then
    echo 0 > $FILE
else
    echo $1 > $FILE
fi

